build_data('UCG.MI')
# add financial instrument code and n days for calculating target return
dati <- build_data(stock = 'FCA.MI', target_days = 10, short_operations = FALSE)
head(train)
featurePlot(x=train[,-4],y=train[,4])
featurePlot(iris[,1:4],iris[,5],plot = 'ellipse')
featurePlot(x=train[,-4],y=train[,4],plot = 'pairs')
c <- cor(train)
c <- cor(as.matrix(train))
?cor
?cut
library(gtrendsR)
t <- gtrends('unicredit')
head(t)
library(quantmod)
xts(t$interest_over_time$hits,order.by = t$interest_over_time$date)
t <- xts(t$interest_over_time$hits,order.by = t$interest_over_time$date)
plot(t)
getSymbols('UCG.MI')
p <- Ad(UCG.MI)
plot(p)
df <- merge.xts(p,t,join = 'outer')
library(dygraphs)
head(df)
colnames(df) <- c('p','t')
dygraph(df) %>% dySeries('t',axis='y2')
dygraph(df) %>% dySeries('t',axis='y2') %>% dyOptions(connectSeparatedPoints = T)
v <- volatility(UCG.MI)
plot(v)
df <- merge.xts(df,v)
head(df)
dygraph(df[,c('p','v')]) %>% dySeries('v',axis = 'y2')
dygraph(df[,c('t','v')]) %>% dySeries('v',axis = 'y2')
dygraph(df[,c('t','v')]) %>% dySeries('v',axis = 'y2') %>% dyOptions(connectSeparatedPoints = T)
corrplot::corrplot(df)
stats::cor(df[,'v'],df[,'t'])
pp <- merge.xts(df[,'v'],df[,'t'],join = 'inner')
dygraph(pp)
pp <- merge.xts(v,t,join = 'inner')
dim(pp)
head(pp)
dygraph(df[,c('t','v')]) %>% dySeries('v',axis = 'y2') %>% dyOptions(connectSeparatedPoints = T)
head(df)
df$t <- EMA(df$t)
t <- EMA(t)
plot(t)
df <- merge.xts(t,v)
dygraph(df) %>% dySeries('v',axis='y2') %>% dyOptions(connectSeparatedPoints = T)
t <- gtrends('volatility')
getSymbols('^VIX')
p <- Ad(VIX)
plot(p)
plot(t)
t <- xts(t$interest_over_time$hits,order.by = t$interest_over_time$hits)
plot(t)
df <- merge.xts(p,t)
t <- xts(t$interest_over_time$hits,order.by = t$interest_over_time$date)
plot(t)
df <- merge.xts(p,t)
dygraphs(df) %>% dySeries('t',axis='y2') %>% dyOptions(connectSeparatedPoints = T)
dygraph(df) %>% dySeries('t',axis='y2') %>% dyOptions(connectSeparatedPoints = T)
t <- EMA(t)
df <- merge.xts(p,t)
dygraph(df) %>% dySeries('t',axis='y2') %>% dyOptions(connectSeparatedPoints = T)
head(df)
colnames(df) <- c('p','t')
head(df)
dygraph(df) %>% dySeries('t',axis='y2') %>% dyOptions(connectSeparatedPoints = T)
getSymbols(UCG.MI)
getSymbols('UCG.MI')
p <- Cl(UCG.MI)
dygraph(p)
dygraph(p) %>% dyRangeSelector()
library(timeSeries)
library(quantmod)
getSymbols('UCG.MI')
p <- Cl(UCG.MI)
head(p)
?hurstexp
install.packages('pracma')
library(pracma)
?hurstexp
hurstexp(p)
plot(p)
plot(p['2014'])
hurstexp(p[Ì2014'])
hurstexp(p[Ì2014'])
hurstexp(p['2014'])
plot(p['2017'])
hurstexp(p['2017'])
plot(p)
plot(p['2015'])
plot(p['2016'])
hurstexp(p['2015'])
hurstexp(p['2016'])
head(UCG.MI)
candleChart(UCG.MI)
library(PerformanceAnalytics)
table.AnnualizedReturns(p)
plot8p
plot(p)
getSymbols('A2A.MI')
candleChart(A2A.MI)
lista=['A2A.MI','ATL.MI','AZM.MI','BGN.MI','BMED.MI',
'BAMI.MI','BPE.MI','BRE.MI','BZU.MI','CPR.MI',
'CNHI.MI','ENEL.MI','ENI.MI','EXO.MI','RACE.MI',
'FCA.MI','FBK.MI','G.MI','ISP.MI','IG.MI',
'LDO.MI','LUX.MI','MS.MI','MONC.MI',
'PST.MI','PRY.MI','REC.MI','SPM.MI','SFER.MI',
'SRG.MI','STM.MI','TIT.MI','TEN.MI','TRN.MI',
'UBI.MI','UCG.MI','UNI.MI','US.MI','YNAP.MI']
lista=c('A2A.MI','ATL.MI','AZM.MI','BGN.MI','BMED.MI',
'BAMI.MI','BPE.MI','BRE.MI','BZU.MI','CPR.MI',
'CNHI.MI','ENEL.MI','ENI.MI','EXO.MI','RACE.MI',
'FCA.MI','FBK.MI','G.MI','ISP.MI','IG.MI',
'LDO.MI','LUX.MI','MS.MI','MONC.MI',
'PST.MI','PRY.MI','REC.MI','SPM.MI','SFER.MI',
'SRG.MI','STM.MI','TIT.MI','TEN.MI','TRN.MI',
'UBI.MI','UCG.MI','UNI.MI','US.MI','YNAP.MI')
getSymbols('ISP.MKI')
getSymbols('ISP.MI')
plot(Cl(ISP.MI))
lista=c('A2A.MI','ATL.MI','AZM.MI','BGN.MI','BMED.MI',
'BAMI.MI','BPE.MI','BRE.MI','BZU.MI','CPR.MI',
'CNHI.MI','ENEL.MI','ENI.MI','EXO.MI','RACE.MI',
'FCA.MI','FBK.MI','G.MI','ISP.MI','IG.MI',
'LDO.MI','LUX.MI','MS.MI','MONC.MI',
'PST.MI','PRY.MI','REC.MI','SPM.MI','SFER.MI',
'SRG.MI','STM.MI','TIT.MI','TEN.MI','TRN.MI',
'UBI.MI','UCG.MI','UNI.MI','US.MI','YNAP.MI')
italia <- list()
titolo <- UCG.MI
head(titolo)
names(titolo)
titolo$id <- 'UCG.MI'
head(titolo)
titolo$id <- c('UCG.MI')
head(titolo)
titolo2 <- ISP.MI
names(titolo2) <- c('Opne','High','Low','Close','Volume','Adjusted')
head(titolo2)
dim(titolo)
dim(titolo2)
titolo2$id <- c('ISP.MI')
head(titolo2)
titolo2$id <- c('ISP.MI')
head(titolo2)
dim(titolo2)
dim(titolo)
?rbind.data.frame
prov <- rbind(titolo,titolo2)
dim(prov)
View(prov)
titolo <- UCG.MI
head(titolo)
names(titolo) <- c('Opne','High','Low','Close','Volume','Adjusted')
titolo$id <- rep('UCG.MI',nrow(titolo))
head(titolo)
?rep
rep('UCG.MI',10)
rep('UCG.MI',nrow(titolo))
titolo <- UCG.MI
nrow(titolo)
?rep_len
rep_len('ucg',10)
titolo$id <- rep_len('ucg',nrow(titolo))
titolo <- UCG.MI
titolo$id <- cbind(rep('ucg',nrow(titolo)))
?merge.xts
?merge
code <- rep('ucg',nrow(titolo))
head(titolo)
titolo <- UCG.MI
head(titolo)
titolo <- cbind(titolo,code)
head(titolo)
train <- read.csv("C:\Users\BTData\Desktop\gResearch\train.csv\train.csv")
train <- read.csv("C:/Users/BTData/Desktop/gResearch/train.csv/train.csv")
head(train)
dim(train)
summary(train)
plot(train$x0)
plot(train$x0,train$y)
library(caret)
names(train)
dim(train)
featurePlot(train[,-16],train$y)
test <- read.csv("C:/Users/BTData/Desktop/gResearch/test.csv/test.csv")
head(test)
summary(test)
train <- read.csv("C:/Users/BTData/Desktop/gResearch/train.csv/train.csv")
summary(train)
summary(test)
summary(test)
summary(train)
library(dplyr)
stock1train <- filter(train,Stock==1)
stock1test <- filter(test,stock==1)
stock1train
stock1test
n_distinct(test$Stock)
stock1test <- filter(test,stock==2)
stock1test
unique(test$Stock)
head(test)
stock363test <- filter(test,stock==363)
stock363train <- filter(train,stock==363)
stock363test
stock1train <- filter(train,Stock==1)
stock1test <- filter(test,Stock==1)
stock1test
stock1train
library(quantmod)
getSymbols('FCA.MI')
p <- Cl(FCA.MI)
plot(p)
plot(p['2018::'])
getSymbols('UCG.MI')
p <- Cl(UCG.MI)
plot(p)
plot(p['2018::'])
library(alphavantager)
av_api_key('0NQE5NPYNBWUATFT')
eth <- av_get(symbol = 'ETH',av_fun = 'TIME_SERIES_DAILY')
eth <- xts(eth[,-1],order.by = eth$timestamp)
chartSeries(eth)
plot(eth)
chartSeries(eth)
head(eth)
plot(eth$close)
#cryptocurrencies
btc <- av_get(symbol = 'BIT',av_fun = 'TIME_SERIES_DAILY',market='CNY')
btc <- xts(btc[,-1],order.by = btc$timestamp)
head(btc)
plot(btc$close)
getSymbols('FTSEMIB.MI')
getSymbols('^FTSEMIB.MI')
p <- Cl(FTSEMIB.MI)
plot(p)
plot(p['2018::'])
chartSeries(p['2018::'])
tail(FTSEMIB.MI)
setwd("C:/Users/BTData/Desktop/selenium/italia")
a2a <- read.csv('A2A.MI.csv')
head(a22a)
head(a2a)
plot(a2a$Close)
a2a <- read.csv('A2A.MI.csv',row.names = a2a$Date)
a2a <- read.csv('A2A.MI.csv',row.names = 'Date')
head(a2a)
plot(a2a$Close)
a2a <- as.ts(a2a)
plot(a2a)
plot(a2a$Close)
head(a2)
head(a2a)
a2a <- read.csv('A2A.MI.csv',row.names = 'Date')
library(quantmod)
a2a <- xts(a2a,order.by = row.names(a2a))
a2a <- xts(a2a,order.by = row.names(as.Date(row.names(a2a))))
rownames(a2a)
a2a <- xts(a2a,order.by = index(as.Date(row.names(a2a))))
head(a2a)
a2a <- read.csv('A2A.MI.csv')
a2a <- xts(a2a[,-1],order.by = a2a[,1])
a2a <- xts(a2a[,-1],order.by = as.Date(a2a[,1]))
plot(a2a$Close)
head(a2a)
read.csv.zoo('A2A.MI.csv',index.column = 1)
a2a <- read.csv.zoo('A2A.MI.csv',index.column = 1)
a2a <- read.csv.zoo('A2A.MI.csv',index.column = 'Date')
head(a2a)
plot(a2a$Close)
getSymbols('UCG.MI')
head(UCG.MI)
tial(UCG.MI)
tail(UCG.MI)
lista=c('A2A.MI','ATL.MI','AZM.MI','BGN.MI','BMED.MI',
'BAMI.MI','BPE.MI','BRE.MI','BZU.MI','CPR.MI',
'CNHI.MI','ENEL.MI','ENI.MI','EXO.MI','RACE.MI',
'FCA.MI','FBK.MI','G.MI','ISP.MI','IG.MI',
'LDO.MI','LUX.MI','MS.MI','MONC.MI',
'PST.MI','PRY.MI','REC.MI','SPM.MI','SFER.MI',
'SRG.MI','STM.MI','TIT.MI','TEN.MI','TRN.MI',
'UBI.MI','UCG.MI','UNI.MI','US.MI','YNAP.MI')
stock='UCG.MI'
getSymbols(stock)
titolo <- stock
names(titolo) <- c('Opne','High','Low','Close','Volume','Adjusted')
stock='UCG.MI'
stock='UCG.MI'
titolo <- getSymbols(stock,auto.assign = FALSE)
names(titolo) <- c('Open','High','Low','Close','Volume','Adjusted')
titolo$id <- stock
head(titolo)
titolo$id <- stock
head(titolo)
id <- rep(stock,nrow(titolo))
dim(titolo)
length(id)
stock='UCG.MI'
titolo <- getSymbols(stock,auto.assign = FALSE)
names(titolo) <- c('Open','High','Low','Close','Volume','Adjusted')
head(titolo)
titolo$id <- id
head(titolo)
stock='UCG.MI'
titolo <- getSymbols(stock,auto.assign = FALSE)
names(titolo) <- c('Open','High','Low','Close','Volume','Adjusted')
id <- rep(stock,nrow(titolo))
dd <- cbind(titolo,id)
dd
head(dd)
id <- xts(rep(stock,nrow(titolo),order.by=index(titolo))
id <- xts(rep(stock,nrow(titolo),order.by=index(titolo)))
id <- xts(rep(stock,nrow(titolo),order.by=index(titolo)))
head(titolo)
index(titolo)
titolo <- getSymbols(stock,auto.assign = FALSE)
names(titolo) <- c('Open','High','Low','Close','Volume','Adjusted')
titolo$id <- NA
head(titolo)
titolo$id <- stock
head(titolo)
class(titolo$Open) <- 'numeric'
head(titolo)
str(titolo)
class(titolo$Open) <- 'float'
str(titolo)
class(titolo$Open) <- 'numeric'
class(titolo$Open) <- 'float'
head(titolo)
df <- as.data.frame(titolo)
stock='UCG.MI'
titolo <- getSymbols(stock,auto.assign = FALSE)
names(titolo) <- c('Open','High','Low','Close','Volume','Adjusted')
df <- as.data.frame(titolo)
head(df)
df$id <- stock
head(df)
lista=c('A2A.MI','ATL.MI')
italia <- list()
for (stock in lista){
titolo <- getSymbols(stock,auto.assign = FALSE)
names(titolo) <- c('Open','High','Low','Close','Volume','Adjusted')
df <- as.data.frame(titolo)
df$id <- stock
list[[stock]] <- df
}
titolo <- getSymbols(stock,auto.assign = FALSE)
stock
names(titolo) <- c('Open','High','Low','Close','Volume','Adjusted')
df <- as.data.frame(titolo)
df$id <- stock
list[[stock]] <- df
italia <- list()
for (stock in lista){
titolo <- getSymbols(stock,auto.assign = FALSE)
names(titolo) <- c('Open','High','Low','Close','Volume','Adjusted')
df <- as.data.frame(titolo)
df$id <- stock
italia[[stock]] <- df
}
length(italia)
italia$A2A.MI
chartSeries(italia$A2A.MI)
a2a <- xts(italia$A2A.MI,order.by = index(italia$A2A.MI))
data <- as.Date(index(italia$A2A.MI))
a2a <- xts(italia$A2A.MI,order.by = data)
chartSeries(a2a)
head(a2a)
for (x in 1:length(italia)){
if (x==1){
italian_stocks <- italia[[1]]} else {
italian_stocks <- merge.xts(italian_stocks,italia[[x]])
}
}
for (x in 1:length(italia)){head(italia[[x]])}
length(italia)
italia[[2]]
italian_stocks <- data.frame()
italian_stocks <- rbind(italian_stocks,italia[[1]])
dim(italia[[1]])
dim(italian_stocks)
italia <- list()
for (stock in lista){
titolo <- getSymbols(stock,auto.assign = FALSE)
names(titolo) <- c('Open','High','Low','Close','Volume','Adjusted')
df <- as.data.frame(titolo)
df$id <- stock
italia[[stock]] <- df
}
italian_stocks <- data.frame()
for (x in 1:length(italia)){
italian_stocks <- rbind(italian_stocks,italia[[x]])
}
head(italian_stocks)
unique(italian_stocks$id)
?write.csv
# save as csv
write.csv(italian_stocks, file = "C:\Users\BTData\Desktop\selenium\italiaR\italianStocks.csv")
# save as csv
write.csv(italian_stocks, file = "C:\\Users\\BTData\\Desktop\\selenium\\italiaR\\italianStocks.csv")
colnames(italian_stocks)
index(italian_stocks)
italian_stocks
head(italian_stocks)
head(italian_stocks[,1])
rownames(italian_stocks)
# save as csv
write.csv(italian_stocks, file = "C:\\Users\\BTData\\Desktop\\selenium\\italiaR\\italianStocks.csv",
row.names = row.names(italian_stocks))
# save as csv
write.csv(italian_stocks, file = "C:\\Users\\BTData\\Desktop\\selenium\\italiaR\\italianStocks.csv",
row.names = row.names(italian_stocks))
getSymbols('ISP.MI')
p <- Cl(ISP.MI)
head(p)
plot(p)
getSymbols('ISP.MI',from='1950-01-01')
p <- Cl(ISP.MI)
plot(p)
lista=c('A2A.MI','ATL.MI','AZM.MI','BGN.MI','BMED.MI',
'BAMI.MI','BPE.MI','BRE.MI','BZU.MI','CPR.MI',
'CNHI.MI','ENEL.MI','ENI.MI','EXO.MI','RACE.MI',
'FCA.MI','FBK.MI','G.MI','ISP.MI','IG.MI',
'LDO.MI','LUX.MI','MS.MI','MONC.MI',
'PST.MI','PRY.MI','REC.MI','SPM.MI','SFER.MI',
'SRG.MI','STM.MI','TIT.MI','TEN.MI','TRN.MI',
'UBI.MI','UCG.MI','UNI.MI','US.MI','YNAP.MI')
italia <- list()
for (stock in lista){
titolo <- getSymbols(stock,auto.assign = FALSE,from='1950-01-01')
names(titolo) <- c('Open','High','Low','Close','Volume','Adjusted')
df <- as.data.frame(titolo)
df$id <- stock
italia[[stock]] <- df
}
# aggregate stocks into one df
italian_stocks <- data.frame()
for (x in 1:length(italia)){
italian_stocks <- rbind(italian_stocks,italia[[x]])
}
length(italia)
length(lista)
dim(italian_stocks)
head(italian_stocks)
library(dplyr)
ucg <- filter(italian_stocks,id=='A2A.MI')
ucg <- filter(italian_stocks,id=='UCG.MI')
head(ucg)
ucg <- italia$UCG.MI
head(ucg)
colnames(ucg)
getSymbols('UCG.MI')
ucg <- getSymbols('UCG.MI',auto.assign = FALSE,from='1950-01-01')
head(ucg)
ucg <- getSymbols('UCG.MI',auto.assign = FALSE,from='1950-01-01')
names(titolo) <- c('Open','High','Low','Close','Volume','Adjusted')
head(ucg)
names(ucg) <- c('Open','High','Low','Close','Volume','Adjusted')
head(ucg)
ucg <- as.data.frame(ucg)
head(ucg)
index(ucg)
rownames(ucg)
ucg$Date <- row.names(ucg)
head(ucg)
ucg <- getSymbols('UCG.MI',auto.assign = FALSE,from='1950-01-01')
names(ucg) <- c('Open','High','Low','Close','Volume','Adjusted')
ucg <- as.data.frame(ucg,row.names = NULL)
ucg$Date <- row.names(ucg)
head(ucg)
ucg <- getSymbols('UCG.MI',auto.assign = FALSE,from='1950-01-01')
names(ucg) <- c('Open','High','Low','Close','Volume','Adjusted')
df <- as.data.frame(ucg,row.names = NULL)
df$Date <- index(ucg)
head(df)
plot(df$Date,df$Close)
plot(df$Date,df$Close,type='l')
anyNA(df)
df[is.na(df)]
italia <- list()
for (stock in lista){
titolo <- getSymbols(stock,auto.assign = FALSE,from='1950-01-01')
names(titolo) <- c('Open','High','Low','Close','Volume','Adjusted')
df <- as.data.frame(titolo,row.names = NULL)
df$Date <- index(titolo)
df$id <- stock
italia[[stock]] <- df
}
# aggregate stocks into one df
italian_stocks <- data.frame()
for (x in 1:length(italia)){
italian_stocks <- rbind(italian_stocks,italia[[x]])
}
length(italia)
dim(italian_stocks)
n_distinct(italian_stocks$id)
head(italian_stocks)
# save as csv
write.csv(italian_stocks, file = "C:\\Users\\BTData\\Desktop\\selenium\\italiaR\\italianStocks.csv",
row.names = row.names(italian_stocks))
?write.csv
# save as csv
write.csv(italian_stocks, file = "C:\\Users\\BTData\\Desktop\\selenium\\italiaR\\italianStocks.csv",
row.names = row.names(italian_stocks),row.names=TRUE)
# save as csv
write.csv(italian_stocks, file = "C:\\Users\\BTData\\Desktop\\selenium\\italiaR\\italianStocks.csv",
row.names = row.names(italian_stocks),row.names=FALSE)
# save as csv
write.csv(italian_stocks, file = "C:\\Users\\BTData\\Desktop\\selenium\\italiaR\\italianStocks.csv",row.names=FALSE)
